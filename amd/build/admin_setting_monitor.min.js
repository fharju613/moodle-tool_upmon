define("tool_upmon/admin_setting_monitor",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=(selectId,monitors,defaultName,typeChangeInfo)=>{const updateFields=function(){let setDefaultRadio=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const select=document.getElementById(selectId),friendlyInput=document.getElementById(selectId+"_friendlyname"),typeKeyword=document.getElementById(selectId+"_type_keyword"),typeHeartbeat=document.getElementById(selectId+"_type_heartbeat"),tokenInput=document.getElementById("id_s_tool_upmon_check_token");if(!(select&&friendlyInput&&typeKeyword&&typeHeartbeat))return;const val=select.value;let isHeartbeat=!1;if(""===val)friendlyInput.disabled=!0,friendlyInput.value="",typeKeyword.disabled=!0,typeHeartbeat.disabled=!0,tokenInput&&(tokenInput.hasAttribute("data-original-value")||tokenInput.setAttribute("data-original-value",tokenInput.value),tokenInput.disabled=!0,tokenInput.value="");else if("new"===val)friendlyInput.disabled=!1,setDefaultRadio&&(friendlyInput.value=defaultName),typeKeyword.disabled=!1,typeHeartbeat.disabled=!1,setDefaultRadio&&(typeKeyword.checked=!0),tokenInput&&(tokenInput.disabled=!1,tokenInput.hasAttribute("data-original-value")&&(tokenInput.value=tokenInput.getAttribute("data-original-value")));else{friendlyInput.disabled=!1,typeKeyword.disabled=!1,typeHeartbeat.disabled=!1;for(let i=0;i<monitors.length;i++)if(monitors[i].id==val){friendlyInput.value=monitors[i].friendlyName||monitors[i].friendly_name||"","HEARTBEAT"===monitors[i].type?(typeHeartbeat.checked=!0,isHeartbeat=!0):typeKeyword.checked=!0;break}}typeHeartbeat.checked&&(isHeartbeat=!0),tokenInput&&(isHeartbeat?(tokenInput.hasAttribute("data-original-value")||tokenInput.setAttribute("data-original-value",tokenInput.value),tokenInput.disabled=!0,tokenInput.value=""):""!==val&&(tokenInput.disabled=!1,tokenInput.hasAttribute("data-original-value")&&(tokenInput.value=tokenInput.getAttribute("data-original-value"))))},handleTypeChange=event=>{const select=document.getElementById(selectId),typeKeyword=document.getElementById(selectId+"_type_keyword"),typeHeartbeat=document.getElementById(selectId+"_type_heartbeat"),tokenInput=document.getElementById("id_s_tool_upmon_check_token");if(select.value&&"new"!==select.value){const selectedMonitorId=select.value;let originalMonitorType="";for(let i=0;i<monitors.length;i++)if(monitors[i].id==selectedMonitorId){originalMonitorType=monitors[i].type;break}const newType=typeKeyword.checked?"KEYWORD":"HEARTBEAT";if(originalMonitorType&&newType!==originalMonitorType)return window.alert(typeChangeInfo),"HEARTBEAT"===originalMonitorType?typeHeartbeat.checked=!0:typeKeyword.checked=!0,event.preventDefault(),!1}else if("new"===select.value){const isHeartbeat=typeHeartbeat.checked;return void(tokenInput&&(isHeartbeat?(tokenInput.hasAttribute("data-original-value")||tokenInput.setAttribute("data-original-value",tokenInput.value),tokenInput.disabled=!0,tokenInput.value=""):(tokenInput.disabled=!1,tokenInput.hasAttribute("data-original-value")&&(tokenInput.value=tokenInput.getAttribute("data-original-value")))))}},select=document.getElementById(selectId),typeKeyword=document.getElementById(selectId+"_type_keyword"),typeHeartbeat=document.getElementById(selectId+"_type_heartbeat");select&&(select.addEventListener("change",(()=>updateFields(!0))),typeKeyword&&typeKeyword.addEventListener("change",handleTypeChange),typeHeartbeat&&typeHeartbeat.addEventListener("change",handleTypeChange),updateFields(!0))}}));

//# sourceMappingURL=admin_setting_monitor.min.js.map